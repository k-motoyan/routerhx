!function(){"use strict";function a(a,b){if(null==b)return null;null==b.__id__&&(b.__id__=m++);var c;return null==a.hx__closures__?a.hx__closures__={}:c=a.hx__closures__[b.__id__],null==c&&(c=function(){return c.method.apply(c.scope,arguments)},c.scope=a,c.method=b,a.hx__closures__[b.__id__]=c),c}function b(a,b){for(var c="undefined"!=typeof window?window:exports,d=b.split("."),e=0;e<d.length-1;++e){var f=d[e];"undefined"==typeof c[f]&&(c[f]={}),c=c[f]}c[d[d.length-1]]=a}var c=function(){return k.Boot.__string_rec(this,"")},d=function(a,b){b=b.split("u").join(""),this.r=new RegExp(a,b)};d.__name__=!0,d.prototype={replace:function(a,b){return a.replace(this.r,b)},matched:function(a){return null!=this.r.m&&a>=0&&a<this.r.m.length?this.r.m[a]:function(){throw"EReg::matched"}(this)},match:function(a){return this.r.global&&(this.r.lastIndex=0),this.r.m=this.r.exec(a),this.r.s=a,null!=this.r.m},__class__:d};var e=function(){};e.__name__=!0,e.hasField=function(a,b){return Object.prototype.hasOwnProperty.call(a,b)},e.field=function(a,b){var c=null;try{c=a[b]}catch(d){}return c};var f=function(b){if(this.window=k.Browser.window,this.routes=new Array,this.options=j["typeof"](b)!=i.TNull?b:{},!(j["typeof"](this.window.history)!=i.TNull&&j["typeof"]((l=this.window.history,a(l,l.pushState)))!=i.TNull?!0:!1))throw"unusable push state this browser.";this._setPopState()};b(f,"RouterHx"),f.__name__=!0,f.main=function(){},f.prototype={_execObj:function(a,b,c){e.hasField(b,c)&&e.field(b,c).apply(b,this._includeParams(a))},_execCb:function(a,b){b.apply(this,this._includeParams(a))},_checkUsablePushState:function(){return j["typeof"](this.window.history)!=i.TNull&&j["typeof"]((l=this.window.history,a(l,l.pushState)))!=i.TNull?!0:!1},_includeParams:function(a){var b=[],c=a.r.m.length;if(c=j["typeof"](c)==i.TNull?0:k.Boot.__cast(c,n),c>0)for(var d=1;c>d;){var e=d++;b.push(a.matched(e))}return b},_setPushState:function(a){this.window.history.pushState("","",a)},_setPopState:function(){var a=this;this.window.addEventListener("popstate",function(b){j["typeof"](b.state)!=i.TNull&&a.run(k.Browser.location.pathname,!0)})},_getDefaultOptions:function(){return{}},raisePushState:function(a,b,c,d){for(var e=this,f=j["typeof"](d)==i.TNull?k.Browser.document.querySelectorAll(a):d.querySelectorAll(a),g=0;g<f.length;){var h=f[g];++g;var l=[k.Boot.__cast(h,Element)];l[0].addEventListener(b,function(a){return function(b){e.run(a[0].getAttribute(c)),b.preventDefault()}}(l))}},run:function(a,b){null==b&&(b=!1),j["typeof"](a)==i.TNull&&(a=k.Browser.location.pathname);for(var c=0,d=this.routes;c<d.length;){var e=d[c];if(++c,1==e.url_pattern.match(a)){if(j["typeof"](this.before)!=i.TNull&&this.before(),j["typeof"](e.cb)!=i.TNull)e.cb.apply(this,this._includeParams(e.url_pattern));else if(j["typeof"]!=e.object)for(var g=0,h=[f.BEFORE_METHOD_NAME,e.method_name,f.AFTER_METHOD_NAME];g<h.length;){var l=h[g];++g,this._execObj(e.url_pattern,e.object,l)}j["typeof"](this.after)!=i.TNull&&this.after(),b||this.window.history.pushState("","",a);break}}},setAfter:function(a){this.after=a},setBefore:function(a){this.before=a},addCb:function(a,b){a=h.replace(a,"/","\\/");var c=new d("<[^/]+>","g");this.routes.push({url_pattern:new d("^"+c.replace(a,"([^\\/]+)")+"$",""),cb:b})},add:function(a,b,c){a=h.replace(a,"/","\\/");var e=new d("<[^/]+>","g");this.routes.push({url_pattern:new d("^"+e.replace(a,"([^\\/]+)")+"$",""),object:b,method_name:c})},__class__:f};var g=function(){};g.__name__=!0,g.string=function(a){return k.Boot.__string_rec(a,"")};var h=function(){};h.__name__=!0,h.replace=function(a,b,c){return a.split(b).join(c)};var i={__ename__:!0,__constructs__:["TNull","TInt","TFloat","TBool","TObject","TFunction","TClass","TEnum","TUnknown"]};i.TNull=["TNull",0],i.TNull.toString=c,i.TNull.__enum__=i,i.TInt=["TInt",1],i.TInt.toString=c,i.TInt.__enum__=i,i.TFloat=["TFloat",2],i.TFloat.toString=c,i.TFloat.__enum__=i,i.TBool=["TBool",3],i.TBool.toString=c,i.TBool.__enum__=i,i.TObject=["TObject",4],i.TObject.toString=c,i.TObject.__enum__=i,i.TFunction=["TFunction",5],i.TFunction.toString=c,i.TFunction.__enum__=i,i.TClass=function(a){var b=["TClass",6,a];return b.__enum__=i,b.toString=c,b},i.TEnum=function(a){var b=["TEnum",7,a];return b.__enum__=i,b.toString=c,b},i.TUnknown=["TUnknown",8],i.TUnknown.toString=c,i.TUnknown.__enum__=i;var j=function(){};j.__name__=!0,j["typeof"]=function(a){var b=typeof a;switch(b){case"boolean":return i.TBool;case"string":return i.TClass(String);case"number":return Math.ceil(a)==a%2147483648?i.TInt:i.TFloat;case"object":if(null==a)return i.TNull;var c=a.__enum__;if(null!=c)return i.TEnum(c);var d=a.__class__;return null!=d?i.TClass(d):i.TObject;case"function":return a.__name__||a.__ename__?i.TObject:i.TFunction;case"undefined":return i.TNull;default:return i.TUnknown}};var k={};k.Boot=function(){},k.Boot.__name__=!0,k.Boot.__string_rec=function(a,b){if(null==a)return"null";if(b.length>=5)return"<...>";var c=typeof a;switch("function"==c&&(a.__name__||a.__ename__)&&(c="object"),c){case"object":if(a instanceof Array){if(a.__enum__){if(2==a.length)return a[0];var d=a[0]+"(";b+="	";for(var e=2,f=a.length;f>e;){var g=e++;d+=2!=g?","+k.Boot.__string_rec(a[g],b):k.Boot.__string_rec(a[g],b)}return d+")"}var g,h=a.length,d="[";b+="	";for(var f=0;h>f;){var i=f++;d+=(i>0?",":"")+k.Boot.__string_rec(a[i],b)}return d+="]"}var j;try{j=a.toString}catch(l){return"???"}if(null!=j&&j!=Object.toString){var m=a.toString();if("[object Object]"!=m)return m}var n=null,d="{\n";b+="	";var o=null!=a.hasOwnProperty;for(var n in a)(!o||a.hasOwnProperty(n))&&"prototype"!=n&&"__class__"!=n&&"__super__"!=n&&"__interfaces__"!=n&&"__properties__"!=n&&(2!=d.length&&(d+=", \n"),d+=b+n+" : "+k.Boot.__string_rec(a[n],b));return b=b.substring(1),d+="\n"+b+"}";case"function":return"<function>";case"string":return a;default:return String(a)}},k.Boot.__interfLoop=function(a,b){if(null==a)return!1;if(a==b)return!0;var c=a.__interfaces__;if(null!=c)for(var d=0,e=c.length;e>d;){var f=d++,g=c[f];if(g==b||k.Boot.__interfLoop(g,b))return!0}return k.Boot.__interfLoop(a.__super__,b)},k.Boot.__instanceof=function(a,b){if(null==b)return!1;switch(b){case n:return(0|a)===a;case p:return"number"==typeof a;case q:return"boolean"==typeof a;case String:return"string"==typeof a;case o:return!0;default:if(null==a)return!1;if("function"==typeof b){if(a instanceof b)return b==Array?null==a.__enum__:!0;if(k.Boot.__interfLoop(a.__class__,b))return!0}return b==r&&null!=a.__name__?!0:b==s&&null!=a.__ename__?!0:a.__enum__==b}},k.Boot.__cast=function(a,b){if(k.Boot.__instanceof(a,b))return a;throw"Cannot cast "+g.string(a)+" to "+g.string(b)},k.Browser=function(){},k.Browser.__name__=!0;var l,m=0;Math.__name__=["Math"],Math.NaN=Number.NaN,Math.NEGATIVE_INFINITY=Number.NEGATIVE_INFINITY,Math.POSITIVE_INFINITY=Number.POSITIVE_INFINITY,Math.isFinite=function(a){return isFinite(a)},Math.isNaN=function(a){return isNaN(a)},String.prototype.__class__=String,String.__name__=!0,Array.prototype.__class__=Array,Array.__name__=!0;var n={__name__:["Int"]},o={__name__:["Dynamic"]},p=Number;p.__name__=["Float"];var q=Boolean;q.__ename__=["Bool"];var r={__name__:["Class"]},s={};f.BEFORE_METHOD_NAME="before",f.AFTER_METHOD_NAME="after",k.Browser.window="undefined"!=typeof window?window:null,k.Browser.document="undefined"!=typeof window?window.document:null,k.Browser.location="undefined"!=typeof window?window.location:null,f.main()}();